# 📘 **하루 일정 최적화 도우미**

## 설명

당신은 하루 동안 처리해야 할 여러 가지 일을 가지고 있으며, 이 일들을 최대한 많이 수행하고 싶습니다. 각 일은 일정한 **소요 시간**과 **중요도 점수**를 가지고 있으며, 어떤 일은 **다른 일을 먼저 수행해야만 시작할 수 있는** 선행 조건도 있습니다.

각 일을 수행하기 위해서는 도시 내 여러 장소를 이동해야 하며, 이동에는 시간이 소요됩니다. 모든 이동은 일방통행이며, 시작 위치는 항상 **0번 장소**(집)이고, 마지막에도 반드시 **0번 장소**로 돌아와야 합니다.

하루에 사용할 수 있는 시간은 $T$분이며, 이 제약 내에서 **선행 조건을 지키며 최대한 높은 중요도 점수**를 얻도록 일정을 계획하고자 합니다.

---

## 입력

* 첫째 줄에 장소의 수 $N$, 이동 경로 수 $M$, 하루 사용 가능한 총 시간 $T$가 주어진다.
  $(2 \leq N \leq 15,\ 1 \leq M \leq 200,\ 1 \leq T \leq 10^9)$

* 둘째 줄에는 각 장소에서 수행할 수 있는 일의 **중요도 점수**가 공백으로 주어진다.
  (0번 장소는 집이므로 중요도 점수는 항상 0)

* 셋째 줄에는 각 장소에서 일을 처리하는 데 걸리는 **작업 시간**이 공백으로 주어진다.
  (0번 장소의 작업 시간도 0)

* 이후 $M$개의 줄에는 세 정수 $a, b, t$가 주어진다.
  이는 $a$번 장소에서 $b$번 장소로 가는 데 이동 시간이 $t$분이 걸린다는 의미이다.
  $(0 \leq a, b < N,\ a \neq b,\ 1 \leq t \leq 10^6)$

* 그다음 줄에는 선행 조건의 개수 $K$가 주어진다.

* 이어지는 $K$개의 줄에는 두 정수 $x, y$가 주어진다.
  이는 $x$번 장소에서 할 일을 수행하려면, 먼저 $y$번 장소의 일을 완료해야 한다는 뜻이다.

---

## 출력

* 하루 일정을 잘 계획했을 때, 얻을 수 있는 최대 중요도 점수를 출력하라.

---

## 예제 입력

```
5 6 50
0 10 20 30 25
0 10 10 10 10
0 1 5
1 2 5
2 3 5
3 0 5
0 4 10
4 0 10
2
3 1
4 2
```

---

## 예제 출력

```
55
```

---

## 예제 설명

* 0(집) → 1(10) → 2(20) → 4(25) → 0(집): 이동 시간 = 5+5+10+10 = 30, 작업 시간 = 10×3 = 30 → 총 60분 > 50분 → 불가
* 그러나 0 → 1 → 2 → 4 → 0 경로에서 1, 2, 4의 작업 시간 중 **2개만 선택**하면 시간 내 가능할 수 있음 (단, 전제 조건을 모두 만족해야 함).
* 1, 2, 4 전부 수행 시 총 소요 시간 = 이동 30 + 작업 30 = 60분 → 초과
* 1, 2만 수행 → 이동 5+5+10+10=30, 작업 10+10=20 → 총 50분 → 가능, 점수 = 10+20 = 30
* 1, 2, 4 전부 수행 시 점수는 10+20+25 = 55 → 최적

---

## 사용 알고리즘 요약

| 알고리즘       | 사용 목적              |
| ---------- | ------------------ |
| 다익스트라      | 장소 간 최소 이동 시간 계산   |
| DP + 비트마스크 | 일정 조합별 최대 점수 저장    |
| 브루트포스      | 가능한 모든 작업 수행 순서 탐색 |

---
